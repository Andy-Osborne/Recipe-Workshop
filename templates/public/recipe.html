{% extends 'public/template/public_base.html' %}

{% block title %}Recipe Workshop | {{recipe.recipe_name|title}}{% endblock %}

{% block main %}

<div class="row no-gutters">
    <div class="col-12 d-flex justify-content-center">
        <div class="col-8 text-center">
            <h1>{{recipe.recipe_name|title}}</h1>
            <h3>Recipe by {{recipe.recipe_author}}</h3>
            <div class="container-fluid d-inline-flex">
                <div class="col-8 text-left">
                    <ul>
                        <li>Effort Required: {{recipe.effort}}</li>
                        <li>Preparation Time: {{recipe.preparation}} minutes</li>
                        <li>Cooking Time: {{recipe.cooking}} minutes</li>
                        <li>Serves: {{recipe.serving}}</li>
                    </ul>

                    <p>{{recipe.description|capitalize}}</p>
                </div>
                <div class="col-4">
                    <img class="recipe-image" src="/static/images/brownie.png">
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row no-gutters">
    <div class="col-12 d-flex justify-content-center">
        <div class="col-8 d-inline-flex">
            <div class="col-4">
                <h3>Ingredients</h3>
                <ul>
                    {% for ingredient in recipe.ingredients %}
                    <li>{{ingredient}}</li>
                    {% endfor %}
                </ul>
            </div>
            <div class="col-8">
                <h3>Steps</h3>
                <ul>
                    {% for steps in recipe.steps %}
                    <li>{{loop.index}} - {{steps}}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</div>

<div class="row no-gutters text-center">
    <div class="col">
        <h3>If you liked this recipe, why not show your appreciation and give it a like?</h3>
        <form action="{{url_for('like', recipe_id=recipe._id, user_name=session['username'])}}" method="POST">
            {% if not session["username"] %}
            <button class="btn-like disable" id="like" type="button"><i class="fas fa-heart"></i></button>
            <small>{{recipe.likes}}</small>
            <br>
            <small>Please log in to give this recipe a like</small>
            {% else %}
                {% if session["username"] in recipe.liked_by %}
                <button class="btn-like" id="like" type="submit"><i class="fas fa-heart"></i></button>
                <small>{{recipe.likes}}</small>
                {% else %}
                <button class="btn-like" id="unlike" type="submit"><i class="far fa-heart"></i></button>
                <small>{{recipe.likes}}</small>
                {% endif %}
            {% endif %}
        </form>
    </div>
</div>


<!-- 
    _id

recipe_author

recipe_name

type

preparation

cooking

effort

serving

description

steps

ingredients

submitted -->


{%endblock %}