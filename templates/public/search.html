{% extends 'public/template/public_base.html' %}

{% block title%} Search {% endblock%}

{% block main %}

<div class="row no-gutters">
    {% if count == 0 %}

    <small class="p-2">Sorry, no results found</small>

    {% else %}

    <small class="p-2">We found {{count}} results for the search <strong>"{{search_term|title}}"</strong></small>

    <div class="col-12">
        <div class="row no-gutters text-center justify-content-center">

            {% for result in search_result %}

            <div class="col-12 col-md-6 col-xl-2">
                <div class="featured-container px-2 mx-2">
                    <a href="{{url_for('get_recipe',recipe_id=result['_id'],recipe_name=result['recipe_name'])}}"><img
                            class="search-image" src="{{result['recipe_image']}}" alt="{{result['recipe_name']}}"></a>
                </div>
                <div class="front-text px-2 mx-3">
                    <a href="{{url_for('get_recipe',recipe_id=result['_id'],recipe_name=result['recipe_name'])}}">
                        <h3>{{result['recipe_name']|title}}</h3>
                    </a>
                    <ul class="search-list">
                        <li><i class="fas fa-heart heart"></i> by {{result["likes"]}} users</li>
                        <li><strong>Total Time: {{result["cooking_time"] + result["prep_time"]}}mins |
                                Effort: {{result["effort"]|title}}</strong></li>
                        <li>{{result["recipe_description"]|truncate(90)}} </li>
                    </ul>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}
</div>


{% endblock %}